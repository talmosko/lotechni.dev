---
import SectionContainer from '@components/astro/containers/SectionContainer.astro'
import Heading from '@components/astro/typography/Heading.astro'
import GridImageContainer from '@components/astro/containers/GridImageContainer.astro'
import { Image } from 'astro:assets'
import { successStoriesData } from '@data/pages-data/successStories'
import type { SuccessStory } from '@data/types/successStories'

interface Props {
  compact?: boolean
}

const { compact = false } = Astro.props
const sectionTitle = 'סיפורי ההצלחה שלנו'
const shownSuccessStories = compact ? successStoriesData.slice(0, 4) : successStoriesData
---

<SectionContainer innerClasses="flex flex-col gap-8">
  <Heading level={2} className="text-center">
    {sectionTitle}
  </Heading>

  <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
    {
      shownSuccessStories.map(({ image, title }: SuccessStory) => (
        <GridImageContainer showGradient gradientOnlyOnHover>
          <Image src={image} alt={title} class="w-full" />
        </GridImageContainer>
      ))
    }
  </div>
</SectionContainer>
