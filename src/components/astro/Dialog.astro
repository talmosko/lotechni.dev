---
import { cn } from '@utils/cn'
import CardContainer from './containers/CardContainer.astro'
import SectionContainer from './containers/SectionContainer.astro'

interface Props {
  triggerId: string
  title?: string
  className?: string
  triggerClassName?: string
}

const { triggerId, title, className, triggerClassName } = Astro.props
---

<dialog
  id={triggerId}
  dir="rtl"
  class={cn(
    'backdrop:bg-surface-dark/80 backdrop:backdrop-blur-sm',
    'rounded-lg border-none bg-transparent p-0',
    'animate-fade-in',
    'backdrop:animate-fade-in',
    'overflow-visible',
    className
  )}>
  <CardContainer showGradient className={cn('h-full w-[90vw] max-w-2xl', triggerClassName)}>
    <div class="flex h-full flex-col">
      <div class="mb-4 flex items-start justify-between">
        {title && <h2 class="text-xl font-semibold text-white">{title}</h2>}
        <button
          onclick="this.closest('dialog').close()"
          class="text-white/60 transition-colors duration-200 hover:text-white"
          aria-label="Close dialog">
          <span class="icon-[tabler--x] h-6 w-6"></span>
        </button>
      </div>
      <div class="max-h-[60vh] flex-1 overflow-y-auto px-2 text-white" dir="ltr">
        <div dir="rtl">
          <slot />
        </div>
      </div>
    </div>
  </CardContainer>
</dialog>
