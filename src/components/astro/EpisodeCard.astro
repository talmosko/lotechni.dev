---
import EpisodeCardDescription from '@components/react/EpisodeCardDescription'
import type { Episode } from '@data/types/spotifyEpisodes'

interface Props extends Episode {}

const { name, description, html_description, images, id } = Astro.props
---

<div
  class="flex flex-col rounded-lg bg-surface p-6 text-base text-white shadow-inner shadow-white/10">
  <div class="pb-5">
    {id ? (
    <iframe
      style="border-radius:12px"
      src=`https://open.spotify.com/embed/episode/${id}/video?utm_source=generator`
      width="100%"
      height="300"
      allowfullscreen=""
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy">
    </iframe>
    ) : (
      <img src={images[0].url} alt={name} width="300" height="300" />
    )}
  </div>
  <h3 class="m-0 pb-5 text-xl">
    {name}
  </h3>
  <EpisodeCardDescription
    description={description}
    html_description={html_description}
    client:load
  />
</div>
