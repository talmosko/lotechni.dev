---
import type { Episode } from '@data/types/spotifyEpisodes'

interface Props extends Episode {
  audio_preview_url: string | null
  description: string
  html_description: string
}

const { audio_preview_url, name, description, html_description, images } = Astro.props
// const { audio_preview_url, name, description, html_description, images, id = undefined } = Astro.props
---

<div
  class="flex flex-col rounded-lg bg-surface p-[calc(1.5rem-1px)] text-white shadow-inner shadow-white/10">
  <img src={images[0].url} alt={name} width="300" height="300" />
  <!-- <iframe
    style="border-radius:12px"
    src=`https://open.spotify.com/embed/episode/${id}/video?utm_source=generator`
    width="624"
    height="351"
    allowfullscreen=""
    allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
    loading="lazy"></iframe> -->
  <h3 class="m-0 text-xl">
    {name}
  </h3>
  <p class="mb-0 mt-2">{description}</p>
  <div set:html={html_description} />

  {
    audio_preview_url && (
      <audio controls>
        <source src={audio_preview_url} type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>
    )
  }
</div>
