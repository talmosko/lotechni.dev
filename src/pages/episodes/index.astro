---
import Layout from '../../layouts/Layout.astro'
import { fetchEpisodes } from '../../utils/spotify'
import EpisodeCard from '../../components/EpisodeCard.astro'
import DescriptionCard from '../../components/DescriptionCard.astro'
import Speakers from '../../components/Speakers.astro'
import Logo from '../../components/Logo.astro'
const show = await fetchEpisodes(import.meta.env.PUBLIC_SPOTIFY_SHOW_ID)

const parsedEpisodes = show.episodes.items.reverse()
---

<Layout title=`${show.name}`>
	<Logo showName={show.name} />
	<h2 class="text-gradient">פרקים</h2>
	<ul role="list" class="link-card-grid">
		{parsedEpisodes.map((episode) => <EpisodeCard {...episode} />)}
	</ul>
</Layout>
